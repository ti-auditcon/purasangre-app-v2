{"ast":null,"code":"import { Router } from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { AuthService } from '../auth.service';\nimport { environment } from '../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common/http\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction ForgotPage_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵtext(1, \" Enviar \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ForgotPage_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵelement(1, \"ion-spinner\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\nlet ForgotPage = /*#__PURE__*/(() => {\n  class ForgotPage {\n    constructor(authService, modalController, router, http, alertController) {\n      this.authService = authService;\n      this.modalController = modalController;\n      this.router = router;\n      this.http = http;\n      this.alertController = alertController;\n      this.registerCredentials = {\n        email: ''\n      };\n      this.disabled = false;\n      this.loading = false;\n    }\n    // async openModalForgot(title, message) {\n    //     const confirmRet = await Plugins.Modals.confirm({ title, message });\n    //     console.log('Confirm ret', confirmRet);\n    // }\n    // async openModalForgot(title, message, buttonIcon) {\n    //     const modal = await this.modalController.create({\n    //         component: ConfirmPage,\n    //         componentProps: {\n    //             title: title,\n    //             message: message,\n    //             buttonIcon: buttonIcon\n    //         },\n    //         cssClass: 'modal-confirm'\n    //     });\n    //     this.title = modal.componentProps.title;\n    //     this.message = modal.componentProps.message;\n    //     this.buttonIcon = modal.componentProps.buttonIcon;\n    //     return await modal.present();\n    // }\n    sendForgot() {\n      this.disabled = true;\n      const data = JSON.stringify({\n        email: this.registerCredentials.email\n      });\n      const httpOptions = {\n        headers: new HttpHeaders({\n          'Content-Type': 'application/json' // updated\n        })\n      };\n      // return new Promise((resolve, reject) => {\n      this.http.post(`${environment.SERVER_URL}/password/reset`, data, httpOptions).subscribe(result => {\n        console.log('success reset');\n        console.log(result);\n        this.alertController.create({\n          header: 'Revisa tu Correo',\n          message: 'Te hemos enviado las instrucciones para reestablecer tu contraseña',\n          buttons: ['OK']\n        }).then(alertEl => {\n          alertEl.present();\n          this.router.navigateByUrl('/auth');\n        });\n      }, err => {\n        console.log('error reset');\n        console.log(err);\n        // this.showAlert(err.error[0].error, err.error[0].message);\n        // Plugins.Modals.alert({\n        //     title: err.error.error,\n        //     message: err.error.messag,\n        //     buttonTitle: 'Entendido'\n        // });\n        this.alertController.create({\n          header: err.error.error,\n          message: 'error inesperado',\n          buttons: ['OK']\n        }).then(alertEl => {\n          alertEl.present();\n        });\n        // this.openModalForgot(err.error.error, err.error.message);\n      });\n    }\n    static #_ = this.ɵfac = function ForgotPage_Factory(t) {\n      return new (t || ForgotPage)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.HttpClient), i0.ɵɵdirectiveInject(i2.AlertController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ForgotPage,\n      selectors: [[\"app-forgot\"]],\n      decls: 19,\n      vars: 3,\n      consts: [[1, \"auth-content\", \"ion-padding\"], [1, \"auth-inner\"], [1, \"logo-auth-container\"], [\"src\", \"assets/img/ps_logo.png\", \"alt\", \"Pura Sangre Crossfit\", 1, \"logo-auth\"], [3, \"ngSubmit\"], [\"registerForm\", \"ngForm\"], [1, \"form-inner\"], [1, \"a-input\"], [1, \"texto-forgot\"], [1, \"icon-input-auth\", \"icon-auth-mail\"], [\"type\", \"text\", \"autocapitalize\", \"none\", \"placeholder\", \"Correo\", \"name\", \"email\", \"required\", \"\", 1, \"input-email\", 3, \"ngModel\", \"ngModelChange\"], [1, \"signup-col\"], [\"class\", \"submit-login-auth\", \"full\", \"\", \"type\", \"submit\", \"expand\", \"block\", 4, \"ngIf\"], [\"class\", \"submit-login-auth\", \"full\", \"\", \"type\", \"submit\", \"expand\", \"block\", \"disabled\", \"\", 4, \"ngIf\"], [\"routerLink\", \"/auth\", 1, \"link-forget\"], [\"full\", \"\", \"type\", \"submit\", \"expand\", \"block\", 1, \"submit-login-auth\"], [\"full\", \"\", \"type\", \"submit\", \"expand\", \"block\", \"disabled\", \"\", 1, \"submit-login-auth\"], [\"name\", \"crescent\"]],\n      template: function ForgotPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 4, 5);\n          i0.ɵɵlistener(\"ngSubmit\", function ForgotPage_Template_form_ngSubmit_4_listener() {\n            return ctx.sendForgot();\n          });\n          i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"p\", 8);\n          i0.ɵɵtext(9, \" Ingresa tu correo para poder restablecer tu contrase\\u00F1a \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"span\", 9);\n          i0.ɵɵelementStart(11, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function ForgotPage_Template_input_ngModelChange_11_listener($event) {\n            return ctx.registerCredentials.email = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(12, \"ion-col\", 11);\n          i0.ɵɵtemplate(13, ForgotPage_button_13_Template, 2, 0, \"button\", 12);\n          i0.ɵɵtemplate(14, ForgotPage_button_14_Template, 2, 0, \"button\", 13);\n          i0.ɵɵelement(15, \"br\")(16, \"br\");\n          i0.ɵɵelementStart(17, \"a\", 14);\n          i0.ɵɵtext(18, \" Volver \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngModel\", ctx.registerCredentials.email);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        }\n      },\n      dependencies: [i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm, i2.IonCol, i2.IonSpinner, i2.RouterLinkWithHrefDelegate, i3.RouterLink],\n      styles: [\".auth-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;width:100%;box-sizing:border-box;height:100%;font-family:Ubuntu,sans-serif!important;background:url(/assets/img/container.png);background-position:center;background-repeat:no-repeat;background-size:cover}.auth-content[_ngcontent-%COMP%]   .auth-inner[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding:0 20px 3.5em}.auth-content[_ngcontent-%COMP%]   .logo-auth-container[_ngcontent-%COMP%]{margin:auto;text-align:center}.auth-content[_ngcontent-%COMP%]   .logo-auth-container[_ngcontent-%COMP%]   .logo-auth[_ngcontent-%COMP%]{width:190px;margin-bottom:2.8em}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]{background:transparent;margin:0!important;font-family:Ubuntu,sans-serif}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]{position:relative}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]   .icon-input-auth[_ngcontent-%COMP%]{position:absolute;bottom:22px;left:4px;color:#ffffff80}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;border:none;width:100%;border-bottom:solid 1px rgba(255,255,255,.5);background:transparent;color:#fff;padding-top:12px;padding-bottom:12px;font-size:15px;margin:7px 0;text-indent:34px;letter-spacing:.3px;outline:none!important;transition:all ease .3s}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background:transparent;border-bottom:solid 1px rgba(255,255,255,.9)}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffe6}.auth-content[_ngcontent-%COMP%]   .form-inner[_ngcontent-%COMP%]   .texto-forgot[_ngcontent-%COMP%]{color:#fff;font-size:15px;line-height:20px}.auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]{padding:0;text-align:center;margin:auto}.auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]   .submit-login-auth[_ngcontent-%COMP%]{margin-top:18px;margin-bottom:3px;border-radius:4px;color:#ffffffe6;font-family:Ubuntu,sans-serif;width:100%;padding:14px;font-size:14px;font-weight:600;outline:none;background-image:linear-gradient(153.33deg,#FC0F85 6.69%,#9300AB 88.08%);background-size:120%;transition:all ease .3s}.auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]   .submit-login-auth[_ngcontent-%COMP%]:hover, .auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]   .submit-login-auth[_ngcontent-%COMP%]:active, .auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]   .submit-login-auth[_ngcontent-%COMP%]:focus{background-position:100% 0}.auth-content[_ngcontent-%COMP%]   .signup-col[_ngcontent-%COMP%]   .link-forget[_ngcontent-%COMP%]{text-align:center;color:#fff;font-weight:300;font-size:13px;display:block;letter-spacing:.3px;text-decoration:none}\"]\n    });\n  }\n  return ForgotPage;\n})();\nexport { ForgotPage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}