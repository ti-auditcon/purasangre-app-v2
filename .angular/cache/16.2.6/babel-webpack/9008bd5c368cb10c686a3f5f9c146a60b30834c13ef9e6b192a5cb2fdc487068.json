{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport { Router } from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n// import { Label } from 'ng2-charts';\n// import { ChartDataSets, ChartOptions, Chart } from 'chart.js';\nimport { AuthService } from '../auth/auth.service';\nimport { Preferences } from '@capacitor/preferences';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../auth/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ionic/angular\";\nconst _c0 = [\"barCanvas\"];\nfunction DashboardPage_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function DashboardPage_div_11_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.goToEditConfirm(ctx_r5.alerts.confirmation.clase_id));\n    });\n    i0.ɵɵelementStart(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵelement(3, \"ion-icon\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 19)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" Tienes una clase reservada a las \", ctx_r3.alerts.confirmation.start, \" \\u00A1Conf\\u00EDrma tu asistencia! \");\n  }\n}\nfunction DashboardPage_div_11_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵelement(3, \"ion-icon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵelement(5, \"p\", 23);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const bn_r8 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHTML\", bn_r8.message, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction DashboardPage_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, DashboardPage_div_11_div_2_div_1_Template, 6, 1, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.alerts.backend_notification);\n  }\n}\nfunction DashboardPage_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, DashboardPage_div_11_div_1_Template, 7, 1, \"div\", 13);\n    i0.ɵɵtemplate(2, DashboardPage_div_11_div_2_Template, 2, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.alerts.has_confirmation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.alerts == null ? null : ctx_r0.alerts.has_backend_notification);\n  }\n}\nfunction DashboardPage_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h1\", 26);\n    i0.ɵɵtext(3, \"Workout de Hoy\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 27)(5, \"div\", 28)(6, \"p\", 29);\n    i0.ɵɵtext(7, \"No hay entrenamientos registrados para hoy.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction DashboardPage_swiper_container_14_ion_slide_1_div_5_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"b\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stage_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stage_r13.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", stage_r13.description, \" \");\n  }\n}\nfunction DashboardPage_swiper_container_14_ion_slide_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, DashboardPage_swiper_container_14_ion_slide_1_div_5_p_1_Template, 5, 2, \"p\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const wod_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", wod_r10.rels.stages);\n  }\n}\nfunction DashboardPage_swiper_container_14_ion_slide_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-slide\", 24)(1, \"div\", 25)(2, \"h1\", 26);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 32);\n    i0.ɵɵtemplate(5, DashboardPage_swiper_container_14_ion_slide_1_div_5_Template, 2, 1, \"div\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const wod_r10 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(wod_r10.claseType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", wod_r10.rels.hasStages);\n  }\n}\nfunction DashboardPage_swiper_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"swiper-container\", 30);\n    i0.ɵɵtemplate(1, DashboardPage_swiper_container_14_ion_slide_1_Template, 6, 2, \"ion-slide\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.wods);\n  }\n}\nlet DashboardPage = /*#__PURE__*/(() => {\n  class DashboardPage {\n    constructor(router, http,\n    // private firebase: Firebase,\n    authService) {\n      this.router = router;\n      this.http = http;\n      this.authService = authService;\n      this.user = '';\n      this.userPlan = '';\n      this.wod = '';\n      this.wods = '';\n      this.today = [];\n      this.alerts = [];\n      this.assistance = [];\n      this.avatar = '';\n      this.active = false;\n    }\n    // public lineChartData: ChartDataSets[] = [\n    //     { data: [104, 103, 101, 98, 97], label: 'Peso corporal' },\n    // ];\n    // public lineChartLabels: Label[] = ['January', 'February', 'March', 'April', 'May'];\n    // public lineChartOptions: (ChartOptions & { annotation: any }) = {\n    //     responsive: true,\n    //     scales: {\n    //         xAxes: [{ gridLines: { display: false } }],\n    //         yAxes: [{ gridLines: { display: false } }]\n    //     },\n    //     annotation: {\n    //         annotations: [\n    //             {\n    //                 type: 'line', mode: 'vertical', scaleID: 'x-axis-0',\n    //                 value: 'March', borderColor: 'orange', borderWidth: 2,\n    //                 label: {\n    //                     enabled: true,\n    //                     fontColor: 'orange',\n    //                     content: 'LineAnno'\n    //                 }\n    //             },\n    //         ],\n    //     },\n    // };\n    ionViewWillEnter() {\n      Preferences.get({\n        key: 'authData'\n      }).then(authData => {\n        const parsedData = JSON.parse(authData.value);\n        const httpOptions = {\n          headers: new HttpHeaders({\n            Authorization: `Bearer ${parsedData.token}`\n          })\n        };\n        this.http.get(`${environment.SERVER_URL}/todaywods`, httpOptions).subscribe(result => {\n          this.wods = result.data;\n          console.log(this.wods);\n          this.wodsMeta = result.meta;\n          this.wodsCount = this.wodsMeta.pagination.total;\n          // console.log(this.wodsMeta.pagination.total);\n        }, err => {\n          console.log('error wod');\n        });\n        this.http.get(`${environment.SERVER_URL}/users-alerts`, httpOptions).subscribe(result => {\n          this.alerts = result.data;\n        }, err => {\n          console.log('error user-alerts');\n        });\n        this.http.get(`${environment.SERVER_URL}/assistance`, httpOptions).subscribe(result => {\n          this.assistance = result;\n          console.log(this.assistance);\n          // this.barChart = new Chart(this.barCanvas.nativeElement, {\n          //     type: 'bar',\n          //     data: {\n          //         labels: this.assistance.label,\n          //         datasets: [{\n          //             data: this.assistance.data,\n          //             label: '',\n          //             backgroundColor: 'rgba(255, 99, 132, 0.2)',\n          //             borderWidth: 1\n          //         }]\n          //     },\n          //     options: {\n          //         legend: { display: false },\n          //         scales: {\n          //             yAxes: [{\n          //                 type: 'linear',\n          //                 display: true,\n          //                 position: 'left',\n          //                 id: 'y-axis-1',\n          //                 gridLines: { display: false },\n          //                 ticks: {\n          //                     suggestedMax: 24,\n          //                     beginAtZero: true,\n          //                 }\n          //             }]\n          //         },\n          //     },\n          // });\n        }, err => {\n          console.log('error assistance');\n        });\n      });\n    }\n    doRefresh(event) {\n      console.log('Begin async operation');\n      this.ionViewWillEnter();\n      setTimeout(() => {\n        console.log('Async operation has ended');\n        event.target.complete();\n      }, 1000);\n    }\n    goToEditConfirm(claseId = '0') {\n      // this.firebase.logEvent(\n      //     'go_to_profile',\n      //     {\n      //         content_type: 'action',\n      //         item_id: 'dashboard_profile_button'\n      //     }\n      // );\n      this.router.navigate([`/home/tabs/clases/${claseId}/edit-confirm/`]);\n    }\n    verWOD(id) {\n      // this.firebase.logEvent(\"go_to_wod\",\n      //  {content_type: \"action\", item_id: \"dashboard_button\"\n      // });\n      this.router.navigate(['/home/wods/' + id]);\n    }\n    static #_ = this.ɵfac = function DashboardPage_Factory(t) {\n      return new (t || DashboardPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.AuthService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardPage,\n      selectors: [[\"app-dashboard\"]],\n      viewQuery: function DashboardPage_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.barCanvas = _t.first);\n        }\n      },\n      decls: 15,\n      vars: 3,\n      consts: [[1, \"header-toolbar\"], [1, \"toolbar-left\"], [1, \"title\", \"font-bold\", \"ion-align-self-center\"], [\"src\", \"assets/img/logo.png\", \"alt\", \"PuraSangre CrossFit\", 1, \"logo\"], [1, \"toolbar-right\"], [\"src\", \"assets/brand/ma_purasangre.png\", 1, \"shieldLogoBN\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [\"pullingIcon\", \"\", \"pullingText\", \"\", \"refreshingSpinner\", \"crescent\"], [\"class\", \"alerts-wrapper\", 4, \"ngIf\"], [1, \"section\", \"wod-resumen\"], [\"class\", \"wod-slide\", 4, \"ngIf\"], [\"pager\", \"true\", 4, \"ngIf\"], [1, \"alerts-wrapper\"], [\"class\", \"card card-alert card-alert-reserva\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"card\", \"card-alert\", \"card-alert-reserva\", 3, \"click\"], [1, \"ps-row\"], [1, \"col-2\", \"icon\"], [\"src\", \"/assets/icon/calendar.svg\"], [1, \"col-10\", \"text\"], [\"class\", \"card card-alert card-alert-info\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"card-alert\", \"card-alert-info\"], [\"src\", \"/assets/icon/info.svg\"], [3, \"innerHTML\"], [1, \"wod-slide\"], [1, \"card-header\"], [1, \"title-section\"], [1, \"card\", \"card-resumen\", \"no-shadow\"], [1, \"text-box-resumen\"], [1, \"center\"], [\"pager\", \"true\"], [\"class\", \"wod-slide\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"card-resumen\", \"mb-3\"], [\"class\", \"text-box-resumen\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mb-2\"]],\n      template: function DashboardPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 2);\n          i0.ɵɵelement(5, \"img\", 3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4);\n          i0.ɵɵelement(7, \"img\", 5);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(8, \"ion-content\")(9, \"ion-refresher\", 6);\n          i0.ɵɵlistener(\"ionRefresh\", function DashboardPage_Template_ion_refresher_ionRefresh_9_listener($event) {\n            return ctx.doRefresh($event);\n          });\n          i0.ɵɵelement(10, \"ion-refresher-content\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, DashboardPage_div_11_Template, 3, 2, \"div\", 8);\n          i0.ɵɵelementStart(12, \"div\", 9);\n          i0.ɵɵtemplate(13, DashboardPage_div_13_Template, 8, 0, \"div\", 10);\n          i0.ɵɵtemplate(14, DashboardPage_swiper_container_14_Template, 2, 1, \"swiper-container\", 11);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.alerts.has_confirmation || ctx.alerts.has_backend_notification);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.wods.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.wods.length > 0);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.IonContent, i5.IonHeader, i5.IonIcon, i5.IonRefresher, i5.IonRefresherContent, i5.IonToolbar],\n      styles: [\"ion-slides[_ngcontent-%COMP%]{width:100%;border-radius:4px;--bullet-background: rgb(27, 62, 214);--bullet-background-active: #FC0F85;--background: #fff;background-image:none;text-align:left}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{text-align:left;padding:0 4px 0 2px;height:auto!important;width:100%}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{text-align:left!important;width:100%;text-transform:capitalize}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .card-resumen[_ngcontent-%COMP%]{width:100%;box-shadow:none}\"]\n    });\n  }\n  return DashboardPage;\n})();\nexport { DashboardPage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}